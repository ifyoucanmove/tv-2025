import"./chunk-RB7YJ4XU.js";import"./chunk-VAKUFGC6.js";import"./chunk-QUJFQN2Y.js";import"./chunk-PUF5RUX7.js";import"./chunk-ZSSIKXEX.js";import"./chunk-5EFE3HBG.js";import"./chunk-FI2Q437S.js";import"./chunk-CM5LPHNF.js";import"./chunk-SMWRAU6Q.js";import"./chunk-HBXR5O6M.js";import"./chunk-WZWUWUZB.js";import"./chunk-ZNCBGJQW.js";import"./chunk-CKP3SGE2.js";import{a as G}from"./chunk-3OT5IHQ2.js";import{a as A}from"./chunk-QIL4TVBT.js";import"./chunk-SZT74WTA.js";import"./chunk-22EA57K3.js";import"./chunk-LBMIQEU6.js";import"./chunk-WI5MSH4N.js";import{a as q}from"./chunk-CRPGW2PI.js";import{O as z}from"./chunk-GK747CHS.js";import"./chunk-ZFIWIRC4.js";import{Bb as $,Ca as C,Da as y,Ea as w,Fc as L,Ga as F,Ha as D,Hc as j,Ia as u,Ic as M,Ja as a,Jc as V,Ka as c,Kc as N,La as T,Mc as O,Oc as B,Pa as I,Qa as x,Ra as s,Rb as E,Sc as W,Tc as R,U as v,V as _,ab as g,bb as f,hb as b,kc as P,na as l,qa as h,sa as S,wa as k}from"./chunk-HGIDUMG6.js";import"./chunk-ADY6KXU2.js";import"./chunk-JFHB5KU2.js";import"./chunk-D2WB2TDK.js";import"./chunk-XWSGAIXU.js";import"./chunk-I5IPTR26.js";import"./chunk-4XLORUIW.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-O4PCMGUI.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-DDPKQVXB.js";function K(i,r){i&1&&(a(0,"div"),T(1,"ion-skeleton-text",8),c())}function J(i,r){if(i&1){let n=I();a(0,"ion-card",4),x("click",function(){v(n);let e=s().$implicit,o=s();return _(o.navigate(e))}),a(1,"div",5),k(2,K,2,0,"div",6),a(3,"ion-img",7),x("ionImgDidLoad",function(){v(n);let e=s(2);return _(e.imageLoaded=!0)}),c()(),a(4,"ion-card-header")(5,"ion-card-title"),g(6),c()()()}if(i&2){let n=s(),t=n.$implicit,e=n.$index,o=s();u("id",b("favorite-card-",e))("tabindex",0),l(2),u("ngIf",!o.imageLoaded),l(),u("src",t.image),l(3),f(t.title)}}function Q(i,r){if(i&1){let n=I();a(0,"ion-card",4),x("click",function(){v(n);let e=s().$implicit,o=s();return _(o.navigate(e))}),a(1,"ion-card-header")(2,"ion-card-title"),g(3),c(),a(4,"div",9)(5,"ion-card-subtitle"),g(6),c(),a(7,"span",10),g(8,"Combo"),c()()()()}if(i&2){let n=s(),t=n.$implicit,e=n.$index;u("id",b("favorite-card-",e))("tabindex",0),l(3),f(t.title),l(3),f(t.duration)}}function U(i,r){if(i&1&&(a(0,"ion-col",2),C(1,J,7,6,"ion-card",3),C(2,Q,9,5,"ion-card",3),c()),i&2){let n=r.$implicit;l(),y(n.type!=="byo-combo"?1:-1),l(),y(n.type=="byo-combo"?2:-1)}}var ce=(()=>{let r=class r{constructor(t,e,o,d,p){this.apiService=t,this.authService=e,this.navCtrl=o,this.commonService=d,this.router=p,this.favoriteList=[],this.type="",this.challengeDays={},this.imageLoaded=!0}ngOnInit(){this.commonService.loader=!0,this.loadFavorite()}loadFavorite(){this.apiService.getFavorites(this.authService.userObjData.email).subscribe(t=>{this.favoriteList=t.favorites,console.log(this.favoriteList),setTimeout(()=>{let e=document.getElementById("favorite-card-0");e&&e.focus()},2e3),this.commonService.loader=!1},t=>{this.commonService.loader=!1})}navigate(t){if(console.log(t),t.type){this.type=t.type;let e={};switch(this.type){case"Recipe":this.router.navigate(["single-recipe/",t.postId]);break;case"Workout":this.router.navigate(["workout-detail/",t.postId],{queryParams:{isFav:!0}});break;case"challenge":this.loadChallengeDetails(t.challengeId,t);break;case"byo-combo":this.router.navigate(["combo-details/",t.postId]);break;default:break}}}loadChallengeDetails(t,e){this.apiService.getChallengeDetails(t).subscribe(o=>{this.challengeDays=this.groupDaysByWeeks(o.days);let d=Math.ceil(Number(e.day)/7),p=`week${d}`;console.log(d,"Challenges:",this.challengeDays[p]);let m=this.challengeDays[p].find(H=>H.day==e.day);console.log("result:",m),this.navCtrl.navigateForward(`/challenge-video-detail/${e.postId}`,{state:{data:m,challengeId:e.challengeId,challengeName:e.title}})})}groupDaysByWeeks(t){let e={};return t.forEach((o,d)=>{let m=`week${Math.floor(d/7)+1}`;e[m]||(e[m]=[]),e[m].push(o)}),console.log("Grouped Days by Weeks:",e),e}};r.\u0275fac=function(e){return new(e||r)(h(G),h(z),h(P),h(q),h(E))},r.\u0275cmp=S({type:r,selectors:[["app-favourite"]],decls:8,vars:0,consts:[["size","12"],[1,"text-white"],["size","3"],[1,"custom-card",3,"id","tabindex"],[1,"custom-card",3,"click","id","tabindex"],[1,"image-container-placeholder"],[4,"ngIf"],[3,"ionImgDidLoad","src"],["animated","",2,"width","100%","height","115px"],[1,"d-flex","justify-content-between"],[1,"text-danger"]],template:function(e,o){e&1&&(a(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"h1",1),g(4,"Favorites"),c()()(),a(5,"ion-row"),F(6,U,3,2,"ion-col",2,w),c()()),e&2&&(l(6),D(o.favoriteList))},dependencies:[A,N,O,W,L,j,M,V,B,$,R],styles:[".image-container-placeholder[_ngcontent-%COMP%]{background-color:#6464646b;height:120px;max-height:120px;min-height:120px}.image-container-placeholder[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:120px;max-height:120px;min-height:120px;object-fit:cover}"]});let i=r;return i})();export{ce as FavouritePage};

import{a as j}from"./chunk-MGRSP4XQ.js";import{a as B}from"./chunk-QIL4TVBT.js";import{O as D}from"./chunk-GK747CHS.js";import{a as $}from"./chunk-ZFIWIRC4.js";import{Ca as m,Da as p,Ea as w,Fb as I,Fc as A,Ga as b,Ha as k,Ia as u,Ja as l,Ka as _,La as v,Pa as h,Qa as x,Ra as r,U as d,V as s,aa as P,ab as f,ad as E,bb as S,jb as F,ka as M,la as T,na as a,qa as V,rb as y,sa as O,sb as C}from"./chunk-HGIDUMG6.js";import{m as g}from"./chunk-DDPKQVXB.js";var z=()=>({height:"120px",width:"calc(25% - 16px)"});function H(n,o){n&1&&(l(0,"div",10),v(1,"img",11),_())}function N(n,o){if(n&1){let t=h();l(0,"ion-card",8),x("focus",function(){let e=d(t).$index,c=r(3);return s(c.onCardFocus(e))})("blur",function(){d(t);let e=r(3);return s(e.onCardBlur())})("click",function(){let e=d(t).$implicit,c=r(3);return s(c.onVideoClick(e))}),l(1,"h4",9),f(2),_(),m(3,H,2,0,"div",10),_()}if(n&2){let t=o.$implicit,i=o.$index,e=r(3);u("id","videocard"+e.title()+i)("tabindex",e.tabindex()),a(2),S(t.name),a(),p(e.status()!=="active"?3:-1)}}function L(n,o){if(n&1&&b(0,N,4,4,"ion-card",7,w),n&2){let t=r(2);k(t.videos().slice(0,3))}}function K(n,o){n&1&&(l(0,"div",10),v(1,"img",11),_())}function R(n,o){if(n&1){let t=h();l(0,"ion-card",13),x("focus",function(){let e=d(t).$index,c=r(3);return s(c.onCardFocus(e))})("blur",function(){d(t);let e=r(3);return s(e.onCardBlur())})("click",function(){let e=d(t).$implicit,c=r(3);return s(c.onVideoClick(e))}),v(1,"img",14),m(2,K,2,0,"div",10),_()}if(n&2){let t=o.$implicit,i=o.$index,e=r(3);u("id","videocard"+e.title()+i)("tabindex",e.tabindex()),a(),u("src",t.image,M),a(),p(e.status()!=="active"?2:-1)}}function U(n,o){if(n&1&&b(0,R,3,4,"ion-card",12,w),n&2){let t=r(2);k(t.videos().slice(0,3))}}function Y(n,o){if(n&1){let t=h();l(0,"div",4),x("focus",function(){d(t);let e=r();return s(e.checkEnterFocus())}),m(1,L,2,0),m(2,U,2,0),l(3,"ion-card",5),x("focus",function(){d(t);let e=r();return s(e.onCardFocus(e.videos.length+1))})("blur",function(){d(t);let e=r();return s(e.onCardBlur())})("click",function(){d(t);let e=r();return s(e.onViewAllClick())}),l(4,"h3",6),f(5,"View All"),_()()()}if(n&2){let t=r();u("id",t.title()),a(),p(t.title()==="User Made Combo"||t.title()==="Pre Made Combo"?1:-1),a(),p(t.title()=="Recipe"||t.title()==="Workouts"||t.title()==="Workouts Series"||t.title()==="Top Challenges"||t.title()==="30 Days Programs"?2:-1),a(),u("tabindex",t.tabindex())}}function q(n,o){n&1&&v(0,"ngx-skeleton-loader",3),n&2&&u("theme",F(1,z))}var ce=(()=>{let o=class o{handleKeyboardEvent(i){this.focusedCardIndex!==null&&(i.key==="ArrowRight"?this.slideNext():i.key==="ArrowLeft"&&this.slidePrevious())}constructor(i,e){this.authService=i,this.modalCtrl=e,this.videos=C([]),this.title=C("Videos"),this.tabindex=C(0),this.showViewAll=C(!0),this.isDetailPage=C(!1),this.status=C(""),this.viewAllClick=y(),this.videoClick=y(),this.currentVideoIndex=0,this.videoContainer=null,this.focusedCardIndex=null}ngOnInit(){let i=this.authService.customer();setTimeout(()=>{this.videoContainer=document.getElementById(this.title())},0),setTimeout(()=>{console.log(this.videos(),"videos",this.title())},4e3)}ngOnChanges(i){i.videos&&i.videos.currentValue&&this.isDetailPage()==!1&&this.setFocus()}setFocus(){setTimeout(()=>{let e=document.getElementById("videocardTop Challenges0");e&&e.focus()},4e3)}checkEnterFocus(){var e;let i=(e=this.videoContainer)==null?void 0:e.children[0];i&&(i.focus(),this.onCardFocus(0))}onCardFocus(i){this.focusedCardIndex=i,this.currentVideoIndex=i,this.scrollToVideo()}onCardBlur(){this.focusedCardIndex=null}onViewAllClick(){this.status()=="active"?this.viewAllClick.emit():this.openSubscribeDialog()}onVideoClick(i){return g(this,null,function*(){console.log(this.status(),"this.status()"),this.status()=="active"?this.videoClick.emit(i):this.openSubscribeDialog()})}slideNext(){this.videoContainer&&this.currentVideoIndex<this.videos.length-1&&(this.currentVideoIndex++,this.scrollToVideo())}slidePrevious(){this.videoContainer&&this.currentVideoIndex>0&&(this.currentVideoIndex--,this.scrollToVideo())}scrollToVideo(){if(this.videoContainer){let i=this.videoContainer.children[this.currentVideoIndex];if(i){let e=this.currentVideoIndex*i.offsetWidth;this.videoContainer.scrollTo({left:e,behavior:"smooth"})}}}openSubscribeDialog(){return g(this,null,function*(){let i=yield this.modalCtrl.create({component:j,componentProps:{title:"Confirm",message:"You must be subscribed to access this content. Scan to activate your subscription.",type:"plan-select"},cssClass:"confirm-modal"});yield i.present();let{data:e}=yield i.onWillDismiss()})}};o.\u0275fac=function(e){return new(e||o)(V(D),V(E))},o.\u0275cmp=O({type:o,selectors:[["app-video-section"]],hostBindings:function(e,c){e&1&&x("keydown",function(W){return c.handleKeyboardEvent(W)},T)},inputs:{videos:[1,"videos"],title:[1,"title"],tabindex:[1,"tabindex"],showViewAll:[1,"showViewAll"],isDetailPage:[1,"isDetailPage"],status:[1,"status"]},outputs:{viewAllClick:"viewAllClick",videoClick:"videoClick"},features:[P],decls:6,vars:2,consts:[[1,"videos-section"],[1,"section-header"],[1,"video-grid",3,"id"],["count","4","appearance","square",3,"theme"],[1,"video-grid",3,"focus","id"],[1,"video-card","d-flex","justify-content-center","align-items-center",3,"focus","blur","click","tabindex"],[1,"text-primary-custom","m-0"],[1,"video-card",2,"display","grid","place-content","center","min-height","100px","background-color","#028e9d",3,"id","tabindex"],[1,"video-card",2,"display","grid","place-content","center","min-height","100px","background-color","#028e9d",3,"focus","blur","click","id","tabindex"],[1,"text-center","text-white","m-0","p-0"],[1,"icon-div"],["src","assets/images/lock-fill.svg",1,"img-fluid","lock-icon"],[1,"video-card",3,"id","tabindex"],[1,"video-card",3,"focus","blur","click","id","tabindex"],["alt","video image",3,"src"]],template:function(e,c){e&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),f(3),_()(),m(4,Y,6,4,"div",2)(5,q,1,2,"ngx-skeleton-loader",3),_()),e&2&&(a(3),S(c.title()),a(),p(c.videos().length>0?4:5))},dependencies:[I,B,A,$],styles:[".videos-section[_ngcontent-%COMP%]{margin-top:30px;z-index:9;position:relative}.videos-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.videos-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:24px;font-weight:500;margin:0;color:var(--text-primary)}.videos-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:var(--accent-primary);font-weight:500}.videos-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(var(--accent-primary),.1)}.video-grid[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;gap:20px;padding:16px 0;scroll-behavior:smooth;width:100%}.video-grid[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.video-grid[_ngcontent-%COMP%]:focus{outline:none}.video-card[_ngcontent-%COMP%]{flex:0 0 calc(25% - 16px);min-width:calc(25% - 16px);margin:0;background:var(--background-secondary);border-radius:8px;overflow:hidden;transition:all .3s ease;cursor:pointer;position:relative}.video-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #0000004d}.video-card[_ngcontent-%COMP%]:focus{transform:scale(1.05);box-shadow:0 0 0 2px var(--accent-primary),0 8px 16px #0000004d;z-index:1}.video-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;object-fit:cover}.video-card[_ngcontent-%COMP%]   .icon-div[_ngcontent-%COMP%]{position:absolute;right:0;width:50%;bottom:0;top:0;background-color:#ffffff80;text-align:center;display:grid;place-content:center}.video-card[_ngcontent-%COMP%]   .icon-div[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{width:30px}"]});let n=o;return n})();export{ce as a};
